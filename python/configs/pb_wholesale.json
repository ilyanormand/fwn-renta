{
  "vendor": {
    "name": "PB Wholesale",
    "currency": "GBP",
    "language": "en"
  },
  "header": {
    "fields": [
      {
        "name": "invoice_number",
        "regex": "(PFMSO-\\d+|SO-\\d{8})",
        "group": 1
      },
      {
        "name": "invoice_date",
        "regex": "Order Date:\\s*(\\d{2}/\\d{2}/\\d{4})",
        "group": 1,
        "type": "date"
      }
    ]
  },
  "table": {
    "strategy": "text_regex_multiline",
    "start_marker": "Code Description Qty",
    "end_marker": "(?:Charge Price|Sub Total)",
    "row_pattern": "(PFM\\S+)\\s+(.+?)\\s+(\\d+)\\s+([\\d.,]+)\\s+([\\d.,]+)\\s+([\\d.,]+)\\s+([\\d.,]+)\\s*%?",
    "columns": [
      {
        "name": "sku",
        "regex_group": 1,
        "type": "string"
      },
      {
        "name": "description",
        "regex_group": 2,
        "type": "string"
      },
      {
        "name": "quantity",
        "regex_group": 3,
        "type": "number"
      },
      {
        "name": "unit_price",
        "regex_group": 4,
        "type": "number"
      },
      {
        "name": "total",
        "regex_group": 5,
        "type": "number"
      }
    ],
    "row_pattern_alt": "(PF\\S+)\\s+(.+?)\\s+(\\d+)\\s+[\\d.,]+\\s+[\\d%]+\\s+([\\d.,]+)\\s+([\\d.,]+)",
    "columns_alt": [
      {
        "name": "sku",
        "regex_group": 1,
        "type": "string"
      },
      {
        "name": "description",
        "regex_group": 2,
        "type": "string"
      },
      {
        "name": "quantity",
        "regex_group": 3,
        "type": "number"
      },
      {
        "name": "unit_price",
        "regex_group": 4,
        "type": "number"
      },
      {
        "name": "total",
        "regex_group": 5,
        "type": "number"
      }
    ]
  },
  "footer": {
    "fields": [
      {
        "name": "subtotal",
        "regex": "(?m)^Sub Total\\s*([\\d.,]+)",
        "group": 1,
        "type": "number"
      },
      {
        "name": "total",
        "regex": "(?m)^Total\\s*([\\d.,]+)",
        "group": 1,
        "type": "number"
      },
      {
        "name": "shipping_fee",
        "regex": "shipping\\s+([\\d.,]+)",
        "group": 1,
        "type": "number"
      }
    ]
  }
}